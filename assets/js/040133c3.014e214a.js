"use strict";(globalThis.webpackChunkvectordocs=globalThis.webpackChunkvectordocs||[]).push([[2006],{8453(e,n,t){t.d(n,{R:()=>o,x:()=>a});var r=t(6540);const i={},s=r.createContext(i);function o(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:n},e.children)}},9239(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"routing/ospf/lsa1/index","title":"Type 1 - Router","description":"Type 1 LSAs are the Router LSAs each router in an area originates a Type 1 LSA. The Type 1 LSA describes the state and cost of the routers interfaces inside the area. If the router has more than one interface inside an area all interfaces must be described in a single Type 1 LSA. Type 1 LSAs have area local scope and ONLY flooded within a single area.","source":"@site/docs/routing/ospf/lsa1/index.md","sourceDirName":"routing/ospf/lsa1","slug":"/routing/ospf/lsa1","permalink":"/VectorDocs/docs/routing/ospf/lsa1","draft":false,"unlisted":false,"editUrl":"https://github.com/ngeran/VectorDocs/tree/main/docs/routing/ospf/lsa1/index.md","tags":[],"version":"current","frontMatter":{"slug":"/routing/ospf/lsa1","title":"Type 1 - Router","date":"2024-11-22T18:13:23.000Z","summary":"OSPF Type 1 LSA Summary","featured_image":"/featured.jpg","author":"nikos","author_image":"/io.png"},"sidebar":"docsSidebar","previous":{"title":"Local Preference","permalink":"/VectorDocs/docs/routing/bgp/local_preference"},"next":{"title":"Type 2 - Network LSA","permalink":"/VectorDocs/docs/routing/ospf/lsa2"}}');var i=t(4848),s=t(8453);const o={slug:"/routing/ospf/lsa1",title:"Type 1 - Router",date:new Date("2024-11-22T18:13:23.000Z"),summary:"OSPF Type 1 LSA Summary",featured_image:"/featured.jpg",author:"nikos",author_image:"/io.png"},a=void 0,c={},d=[];function l(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"Type 1 LSAs are the Router LSAs each router in an area originates a Type 1 LSA. The Type 1 LSA describes the state and cost of the routers interfaces inside the area. If the router has more than one interface inside an area all interfaces must be described in a single Type 1 LSA. Type 1 LSAs have area local scope and ONLY flooded within a single area."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"0                   1                   2                   3\n0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|            LS age             |     Options   |       1       |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                        Link State ID                          |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                     Advertising Router                        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                     LS sequence number                        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|         LS checksum           |             length            |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|  0  Nt|W|V|E|B|        0      |            # links            |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                          Link ID                              |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                         Link Data                             |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|     Type      |     # TOS     |            metric             |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                              ...                              |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|      TOS      |        0      |          TOS  metric          |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                          Link ID                              |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                         Link Data                             |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n"})}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("em",{children:"Common 20 byte header"})}),"\n",(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"LS Age:"}),"\xa0The time in seconds since the LSA was originated."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Options:\xa0"}),"Optional Capabilities supported."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"LS Type:\xa0"}),"The Type of the LSA \u2014\xa0",(0,i.jsx)("strong",{children:"Type 1"}),"\xa0in this case the Router LSA."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Link State ID:"}),"\xa0Identifies the piece of the routing domain that\nis being described by the LSA"]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"LS Type   Link State ID\n_______________________________________________\n1         The originating router's Router ID.\n2         The IP interface address of the\n                      network's Designated Router.\n3         The destination network's IP address.\n4         The Router ID of the described AS\n                      boundary router.\n5         The destination network's IP address.\n"})}),"\n",(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Advertising Router:"}),"\xa0The Router ID of the router that originated the LSA."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"LS Sequence Number:"}),"\xa0Used for old or duplicated LSA detection"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"LS Checksum:"}),"\xa0Checksum of the complete LSA including the header"]})]}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("em",{children:"Type 1 LSA"})}),"\n",(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"bit V:\xa0"}),"V is for virtual link endpoint."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"bit E:\xa0"}),"When set, the router is an AS boundary router (E is for\nexternal)."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"bit B:\xa0"}),"When set, the router is an area border router (B is for border)."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"# links:\xa0"}),"The number of router links described in this LSA. The total interfaces in the area."]})]}),"\n",(0,i.jsx)("p",{children:"The following fields are used to describe each interface in the area"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Type    Description\n __________________________________________________\n 1       Point-to-point connection to another router\n 2       Connection to a transit network\n 3       Connection to a stub network\n 4       Virtual link\n"})}),"\n",(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Link ID:"}),"\xa0Identifies the object that this router link connects to. Value depends on the link\u2019s Type. When connecting to an object that also originates an LSA (i.e., another router or a transit network) the Link ID is equal to the neighboring LSA\u2019s Link State ID. This provides the key for looking up the neighboring LSA in the link state database during the routing table calculation."]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Type   Link ID\n ______________________________________\n 1     Neighboring router\u2019s Router ID\n 2     IP address of Designated Router\n 3     IP network/subnet number\n 4     Neighboring router\u2019s Router ID\n"})}),"\n",(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"Link Data:\xa0"}),"Value again depends on the link\u2019s Type field. For connections to stub networks, Link Data specifies the network\u2019s IP address mask. For unnumbered point-to-point connections, it specifies the interface\u2019s MIB-II ifIndex value. For the other link types it specifies the router interface\u2019s IP address. This latter piece of information is needed during the routing table\nbuild process, when calculating the IP address of the next hop."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"# TOS ( Type Of Service):"}),"\xa0The number of different TOS metrics given for this link, not counting the required link metric."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"metric:\xa0"}),"The cost of using this router link."]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"TOS:"}),"\xa0Type of Service"]}),(0,i.jsxs)("li",{children:[(0,i.jsx)("strong",{children:"TOS metric:"}),"\xa0TOS-specific metric information."]})]}),"\n",(0,i.jsx)("p",{id:"a047",children:"Router LSA \u2014 Type 1: Router LSAs example in Junos"}),"\n",(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:["The operational mode command\xa0",(0,i.jsx)("code",{children:"show ospf database router"})]})}),"\n",(0,i.jsxs)("ol",{children:[(0,i.jsx)("li",{children:"The command shows all router LSAs in all areas"}),(0,i.jsxs)("li",{children:["Can use\xa0",(0,i.jsx)("code",{children:"area\xa0"}),",\xa0",(0,i.jsx)("code",{children:"advertising-router\xa0"}),",\xa0",(0,i.jsx)("code",{children:"lsa-id\xa0"}),"to narrow down the output results"]}),(0,i.jsxs)("li",{children:["Can use the\xa0",(0,i.jsx)("code",{children:"detail"}),"\xa0and\xa0",(0,i.jsx)("code",{children:"extensive"}),"\xa0flags to tailor output level of detail"]}),(0,i.jsxs)("li",{children:["Can use the\xa0",(0,i.jsx)("code",{children:"summary"}),"\xa0flag for an overview of the LSAs"]})]}),"\n",(0,i.jsx)("figure",{class:"wp-block-image",children:(0,i.jsx)("img",{decoding:"async",src:"https://miro.medium.com/v2/resize:fit:1294/1*EVIbXaUwHpMm4FL_eXno9w.png",alt:""})}),"\n",(0,i.jsx)("figure",{class:"wp-block-image",children:(0,i.jsx)("img",{decoding:"async",src:"https://miro.medium.com/v2/resize:fit:1294/1*8rrBBOzfjHutyfx5q5Gqtw.png",alt:""})}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)("em",{children:"R2\u2019s Originated \u2014 Router-LSA for AREA 0.0.0.0"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"LS age = 697                   \nOptions = (B-bit)              \nLS type = 1                    Router-LSA\nID = 172.30.5.2                RT2's router ID\nAdv Rtr = 172.30.5.2           RT2's router ID\nbit E = 0                      not an AS boundary router\nbits 0x1(B = 1)                area border router\nlink count = 3                 3 attached interfaces in AREA 0 \n       Link ID = 172.30.0.14   DR interface IP \n       Link Data = 172.30.0.13 R2\u2019s Interface IP \n       Type = 2               Connects to Transit Network \n       # TOS metrics = 0      Type of Service \n       metric = 1\n       Link ID = 172.30.0.18   DR interface IP \n       Link Data = 172.30.0.17 R2\u2019s Interface IP \n       Type = 2               Connects to Transit Network \n       # TOS metrics = 0      Type of Service \n       metric = 1\n\n       Link ID = 172.30.5.2         R2\u2019s Loopback \n       Link Data = 255.255.255.255  Subnet Mask \n       Type = 3                     Connects to STUB network\n       # TOS metrics = 0\n       metric = 0\nType = Transit                      Link Type \nNode ID = 172.30.0.18               DR Interface IP \nType = Transit                      Link Type \nNode ID = 172.30.0.14               DR Interface IP\nGen Timer = 00:36:46      How long until LSA regeneration \nAging time = 00:39:47     How long until the LSA expires \nInstalled = 00:20:13      LSA was installed\nexpires in = 00:48:23     If not refreshed \nsent = 00:11:35 ago       LSA was flooded\nLast changed = 4d 17:22:47 ago The route was installed\nChange Count = 19         Number of times the route was changed \nOurs Indicates that this is a local advertisement\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);